<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>عيد ميلاد دعاء ❤️</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #000000 0%, #1a1a2e 50%, #16213e 100%);
            color: #FFD700;
            font-family: 'Arial', sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* النجوم في الخلفية */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: #FFD700;
            border-radius: 50%;
            animation: twinkle 2s ease-in-out infinite alternate;
        }

        .star:nth-child(odd) {
            animation-delay: 1s;
        }

        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        /* الكواكب */
        .planet {
            position: absolute;
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .planet1 {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #ee5a24);
            top: 10%;
            right: 10%;
            animation-delay: 0s;
        }

        .planet2 {
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at 30% 30%, #4834d4, #686de0);
            bottom: 20%;
            left: 15%;
            animation-delay: 3s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .falling-emojis {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .emoji {
            position: absolute;
            font-size: 24px;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            text-align: center;
            z-index: 2;
            position: relative;
        }

        .title {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(255, 215, 0, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(255, 215, 0, 0.5); }
            to { text-shadow: 2px 2px 20px rgba(255, 215, 0, 0.8); }
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .countdown-item {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #FFD700;
            border-radius: 15px;
            padding: 20px 15px;
            min-width: 80px;
            backdrop-filter: blur(10px);
        }

        .countdown-number {
            font-size: 32px;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
      .countdown-label {
            font-size: 14px;
            opacity: 0.8;
        }
      .gift-button {
            background: #FFD700;
            color: #000;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            display: none;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }

        .gift-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
        }

        .gift-button:active {
            transform: translateY(0);
        }

        .hearts {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 3;
        }

        .heart {
            position: absolute;
            font-size: 30px;
            color: #FFD700;
            animation: heartbeat 1.5s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        /* الصفحة الثانية */
        .second-page {
            display: none;
            width: 100%;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background: linear-gradient(135deg, #000000 0%, #1a1a2e 50%, #16213e 100%);
            color: #FFD700;
            z-index: 10;
            overflow-y: auto;
            padding: 20px;
        }

        .second-page.active {
            display: block;
        }

        .page-title {
            text-align: center;
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(255, 215, 0, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        .love-message {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 30px;
            margin: 30px auto;
            max-width: 800px;
            text-align: center;
            backdrop-filter: blur(10px);
            font-size: 18px;
            line-height: 1.8;
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.2);
        }

        .highlight {
            color: #ff6b9d;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.7);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { text-shadow: 0 0 5px rgba(255, 107, 157, 0.7); }
            50% { text-shadow: 0 0 20px rgba(255, 107, 157, 0.9); }
            100% { text-shadow: 0 0 5px rgba(255, 107, 157, 0.7); }
        }

        .gifts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .gift-card {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .gift-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        /* أنماط البطة والمشغل */
        .duck-player {
            width: 180px;
            height: 180px;
            margin: 0 auto 15px;
            position: relative;
            text-align: center;
        }

        .duck-img {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.7));
        }
      .duck-btn {
            background: #FFD700;
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            display: inline-block;
            transition: all 0.3s;
        }

        .duck-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px #FFD700;
        }

        .gift-icon {
            font-size: 60px;
            margin-bottom: 20px;
            display: block;
        }

        .gift-title {
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: bold;
            color: #ff6b9d;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.7);
            animation: pulse 2s infinite;
        }

        .gift-description {
            font-size: 16px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .back-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #FFD700;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            z-index: 15;
        }
      .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #FFD700;
            color: #000;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            z-index: 15;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* أنماط جديدة للصورة والتكبير */
        .rose-image {
            width: 200px;
            height: 200px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid #FFD700;
            margin: 0 auto 15px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .rose-image:hover {
            transform: scale(1.05);
        }

        .rose-caption {
            font-size: 18px;
            margin-top: 10px;
            color: #FFD700;
        }

        /* نافذة التكبير */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .modal-content {
            display: block;
            margin: 5% auto;
            max-width: 80%;
            max-height: 80%;
            border: 3px solid #FFD700;
            border-radius: 10px;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #FFD700;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }

        /* أنماط السواريخ */
        .rockets-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .rocket {
            position: absolute;
            font-size: 40px;
            animation: launch 3s ease-out forwards;
            opacity: 0;
        }

        @keyframes launch {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        .explosion {
            position: absolute;
            font-size: 60px;
            animation: explode 1s ease-out forwards;
            opacity: 0;
        }
      @keyframes explode {
            0% {
                transform: scale(0.5);
                opacity: 1;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        /* أنماط الكتكوت المغني */
        .chick-container {
            position: relative;
            animation: bounce 3s ease-in-out infinite;
            margin: 20px auto;
            width: 120px;
            height: 120px;
        }

        /* جسم الكتكوت */
        .chick-body {
            width: 80px;
            height: 70px;
            background: radial-gradient(ellipse at 30% 30%, #FFE066, #FFCC02, #E6B800);
            border-radius: 50% 50% 60% 40%;
            position: relative;
            box-shadow: 
                0 8px 16px rgba(0,0,0,0.2),
                inset -10px -10px 20px rgba(0,0,0,0.1),
                inset 10px 10px 20px rgba(255,255,255,0.3);
            animation: breathing 2s ease-in-out infinite;
            margin: 0 auto;
        }

        /* رأس الكتكوت */
        .chick-head {
            width: 60px;
            height: 60px;
            background: radial-gradient(ellipse at 25% 25%, #FFE066, #FFCC02, #E6B800);
            border-radius: 50%;
            position: absolute;
            top: -30px;
            left: 10px;
            box-shadow: 
                0 6px 12px rgba(0,0,0,0.15),
                inset -8px -8px 15px rgba(0,0,0,0.1),
                inset 8px 8px 15px rgba(255,255,255,0.3);
        }

        /* العيون */
        .eye {
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #000 40%, #333 70%, #000 100%);
            border-radius: 50%;
            position: absolute;
            top: 15px;
            box-shadow: 
                0 2px 4px rgba(0,0,0,0.3),
                inset 0 1px 2px rgba(255,255,255,0.8);
            animation: blink 4s infinite;
        }

        .eye::before {
            content: '';
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            top: 2px;
            left: 3px;
        }

        .eye.left { left: 12px; }
        .eye.right { left: 35px; }
      /* المنقار */
        .beak {
            position: absolute;
            top: 25px;
            left: 22px;
            width: 0;
            height: 0;
            border-left: 7px solid transparent;
            border-right: 7px solid transparent;
            border-top: 10px solid #FF8C00;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3));
            animation: sing 1.2s ease-in-out infinite;
        }

        .beak::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -6px;
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #FF7F00;
        }

        /* الأجنحة */
        .wing {
            width: 25px;
            height: 35px;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF8C00);
            border-radius: 60% 20% 60% 20%;
            position: absolute;
            top: 15px;
            box-shadow: 
                0 4px 8px rgba(0,0,0,0.2),
                inset -3px -3px 6px rgba(0,0,0,0.1),
                inset 3px 3px 6px rgba(255,255,255,0.4);
        }

        .wing.left {
            left: -10px;
            animation: flapLeft 1s ease-in-out infinite;
            transform-origin: right center;
        }

        .wing.right {
            right: -10px;
            animation: flapRight 1s ease-in-out infinite;
            transform-origin: left center;
        }

        /* القدمين */
        .foot {
            width: 15px;
            height: 6px;
            background: linear-gradient(45deg, #FF8C00, #FF7F00);
            border-radius: 50%;
            position: absolute;
            bottom: -6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .foot.left { left: 15px; }
        .foot.right { right: 15px; }

        /* اليد اليمنى التي تحمل المايك */
        .right-hand {
            width: 18px;
            height: 25px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border-radius: 60% 20% 60% 20%;
            position: absolute;
            top: 25px;
            right: -15px;
            transform-origin: top center;
            animation: holdMic 2s ease-in-out infinite;
            box-shadow: 
                0 3px 6px rgba(0,0,0,0.2),
                inset -2px -2px 4px rgba(0,0,0,0.1);
        }

        /* المايكروفون */
        .microphone {
            position: absolute;
            right: -30px;
            top: 15px;
            transform: rotate(-15deg);
            animation: micMove 2s ease-in-out infinite;
        }

        .mic-handle {
            width: 6px;
            height: 35px;
            background: linear-gradient(0deg, #2C2C2C, #4A4A4A, #666);
            border-radius: 4px;
            position: relative;
            box-shadow: 
                0 3px 6px rgba(0,0,0,0.4),
                inset -2px -2px 4px rgba(0,0,0,0.3),
                inset 2px 2px 4px rgba(255,255,255,0.2);
        }

        .mic-head {
            width: 18px;
            height: 22px;
            background: linear-gradient(45deg, #1A1A1A, #333, #4A4A4A);
            border-radius: 50% 50% 20% 20%;
            position: absolute;
            top: -14px;
            left: -6px;
            box-shadow: 
                0 4px 8px rgba(0,0,0,0.5),
                inset -3px -3px 6px rgba(0,0,0,0.4),
                inset 3px 3px 6px rgba(255,255,255,0.1);
        }
      .mic-grid {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 12px;
            height: 12px;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 1px,
                rgba(255,255,255,0.3) 1px,
                rgba(255,255,255,0.3) 2px
            );
            border-radius: 50%;
        }

        /* النغمات الموسيقية */
        .music-note {
            position: absolute;
            font-size: 18px;
            color: #E91E63;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            animation: float 2.5s ease-in-out infinite;
        }

        .note1 {
            top: -40px;
            left: -30px;
            animation-delay: 0s;
        }

        .note2 {
            top: -60px;
            right: -20px;
            animation-delay: 0.8s;
        }

        .note3 {
            top: -40px;
            left: 60px;
            animation-delay: 1.6s;
        }

        /* الحركات */
        @keyframes bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes breathing {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        @keyframes blink {
            0%, 94%, 100% { transform: scaleY(1); }
            97% { transform: scaleY(0.1); }
        }

        @keyframes sing {
            0%, 40%, 100% { transform: scaleY(1) scaleX(1); }
            20% { transform: scaleY(1.4) scaleX(1.2); }
            60% { transform: scaleY(1.2) scaleX(1.1); }
        }

        @keyframes flapLeft {
            0%, 100% { transform: rotateZ(0deg); }
            50% { transform: rotateZ(-20deg); }
        }

        @keyframes flapRight {
            0%, 100% { transform: rotateZ(0deg); }
            50% { transform: rotateZ(20deg); }
        }

        @keyframes holdMic {
            0%, 100% { transform: rotateZ(0deg); }
            50% { transform: rotateZ(5deg); }
        }

        @keyframes micMove {
            0%, 100% { transform: rotate(-15deg) translateY(0px); }
            50% { transform: rotate(-12deg) translateY(-3px); }
        }

        @keyframes float {
            0% { 
                transform: translateY(0px) scale(1) rotate(0deg); 
                opacity: 1; 
            }
            50% { 
                transform: translateY(-20px) scale(1.2) rotate(10deg); 
                opacity: 0.9; 
            }
            100% { 
                transform: translateY(-40px) scale(0.8) rotate(-5deg); 
                opacity: 0; 
            }
        }

        .chick-control {
            background: #FFD700;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.3s;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .chick-control:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px #FFD700;
        }

        /* النجوم في الصفحة الثانية */
        .second-page .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .second-page .star {
            position: absolute;
            background: #FFD700;
            border-radius: 50%;
            animation: twinkle 2s ease-in-out infinite alternate;
        }

        /* تأثيرات القلوب */
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1001;
        }

        /* أنماط الكعكة */
        .cake-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: none;
        }

        .cake-back-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #FFD700;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            z-index: 1002;
        }
      .cake-text {
            color: #FFD700;
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin-top: 20px;
            font-size: 24px;
        }

        .cake-name {
            font-size: 28px;
            font-weight: bold;
            color: #ff6b9d;
            margin-top: 10px;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.7);
        }

        /* أنماط الشمعة الجديدة */
        .candle-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1003;
            animation: candleDrop 2s ease-out forwards;
        }

        .candle {
            position: relative;
            width: 10px;
            height: 50px;
            background: linear-gradient(to right, #f8f8f8, #ffffff, #f8f8f8);
            border-radius: 5px;
            margin: 0 auto;
        }

        .candle::before {
            content: "";
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(ellipse at center, #ff9900 0%, #ff6600 50%, transparent 70%);
            border-radius: 50%;
            top: -10px;
            left: -5px;
            box-shadow: 0 0 20px #ff6600;
            animation: flicker 0.5s infinite alternate;
        }

        .candle::after {
            content: "";
            position: absolute;
            width: 5px;
            height: 10px;
            background: #ff6600;
            top: -20px;
            left: 2px;
            border-radius: 50% 50% 20% 20%;
        }

        @keyframes candleDrop {
            0% { transform: translate(-50%, -300%); opacity: 0; }
            50% { transform: translate(-50%, -150%); opacity: 1; }
            100% { transform: translate(-50%, -180%); }
        }

        @keyframes flicker {
            0% { opacity: 0.8; transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1.05); }
        }

        /* أنماط الألبوم */
        .photo-album {
            width: 200px;
            height: 150px;
            background: #f5f5f5;
            border: 10px solid #FFD700;
            margin: 0 auto;
            position: relative;
            perspective: 1000px;
        }

        .album-cover {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b9d, #ff8c66);
            transform-origin: left;
            transition: transform 1s;
            box-shadow: 5px 5px 10px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: white;
            font-weight: bold;
        }

        .album-pages {
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            display: none;
            padding: 10px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .photo-album:hover .album-cover {
            transform: rotateY(-160deg);
        }

        .photo-album:hover .album-pages {
            display: block;
        }

        .album-photo {
            width: 100%;
            height: 80px;
            background-size: cover;
            background-position: center;
            margin-bottom: 5px;
            border: 1px solid #ddd;
        }

        /* أنماط القصيدة */
        .poem-container {
            width: 100%;
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        .poem-scroll {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            padding: 15px;
            box-sizing: border-box;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #FFD700;
            border-radius: 5px;
        }

        .poem-line {
            margin-bottom: 10px;
            font-size: 16px;
            line-height: 1.6;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* أنماط جديدة للرسالة البسيطة */
        .simple-message {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 30px;
            margin: 20px auto;
            max-width: 500px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .simple-message h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #ff6b9d;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.7);
            animation: pulse 2s infinite;
        }

        .simple-message p {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .open-animation-btn {
            background: #FFD700;
            color: #000;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 18px;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .open-animation-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
        }

        /* أنماط الرسوم المتحركة الجديدة */
        .animation-container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .animation-heart {
            width: 50px;
            height: auto;
            margin-bottom: 20px;
            animation: beat 2s ease-in-out infinite;
        }

        @keyframes beat {
            0% { transform: scale(1); }
            25% { transform: scale(1.2); }
            30% { transform: scale(1); }
            50% { transform: scale(0.9); }
            60% { transform: scale(1); }
            75% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .animation-message {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 30px;
            width: 80%;
            max-width: 550px;
            text-align: justify;
            line-height: 1.5;
            font-size: 16px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            animation: openmsg 2s linear forwards;
        }

        @keyframes openmsg {
            0% { height: 0; padding: 0 20px; opacity: 0; }
            100% { height: auto; padding: 20px; opacity: 1; }
        }

        .animation-signature {
            text-align: right;
            margin-top: 20px;
            font-family: 'Cinzel', serif;
            font-size: 14px;
        }

        .animation-signature p {
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .title, .page-title {
                font-size: 24px;
            }
            
            .countdown-item {
                min-width: 60px;
                padding: 15px 10px;
            }
            
            .countdown-number {
                font-size: 24px;
            }
            
            .gift-button {
                font-size: 18px;
                padding: 12px 25px;
            }
            
            .gifts-container {
                grid-template-columns: 1fr;
              }
            
            .love-message {
                font-size: 16px;
                padding: 20px;
            }
            
            .rose-image {
                width: 150px;
                height: 150px;
            }
            
            .duck-player {
                width: 120px;
                height: 120px;
            }
            
            .modal-content {
                max-width: 95%;
                max-height: 95%;
            }
            
            .chick-body {
                width: 60px;
                height: 50px;
            }
            
            .chick-head {
                width: 50px;
                height: 50px;
                top: -25px;
                left: 5px;
            }
            
            .eye {
                width: 10px;
                height: 10px;
                top: 10px;
            }
            
            .eye.left { left: 10px; }
            .eye.right { left: 30px; }
            
            .beak {
                top: 20px;
                left: 18px;
                border-left: 5px solid transparent;
                border-right: 5px solid transparent;
                border-top: 8px solid #FF8C00;
            }
            
            .wing {
                width: 20px;
                height: 25px;
            }
            
            .right-hand {
                width: 15px;
                height: 20px;
                right: -10px;
            }
            
            .microphone {
                right: -25px;
            }
            
            .mic-handle {
                height: 30px;
            }
            
            .mic-head {
                width: 15px;
                height: 18px;
                top: -12px;
                left: -5px;
            }
            
            .music-note {
                font-size: 14px;
            }
            
            .show-message-btn {
                margin-top: 120px;
                padding: 8px 15px;
                font-size: 14px;
            }
            
            .photo-album {
                width: 150px;
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- النجوم والكواكب -->
    <div class="stars"></div>
    <div class="planet planet1"></div>
    <div class="planet planet2"></div>
    
    <div class="falling-emojis"></div>
    
    <!-- صوت الانتظار -->
    <audio id="waitingMusic" loop>
        <source src="https://www.soundjay.com/misc/sounds/elevator-music-1.mp3" type="audio/mpeg">
    </audio>
    
    <!-- صوت Perfect -->
    <audio id="perfectMusic" loop>
        <source src="https://www.soundjay.com/misc/sounds/perfect-song.mp3" type="audio/mpeg">
    </audio>
    
    <!-- الأغنية الخاصة -->
    <audio id="specialSong">
        <source src="https://files.catbox.moe/stjhqb.mp4" type="audio/mp4">
    </audio>
    
    <!-- الصفحة الأولى -->
    <div class="container" id="firstPage">
        <h1 class="title">أجمل يوم في الكون ✨</h1>
        
        <div class="countdown" id="countdown">
          <div class="countdown-item">
                <span class="countdown-number" id="days">00</span>
                <span class="countdown-label">أيام</span>
            </div>
            <div class="countdown-item">
                <span class="countdown-number" id="hours">00</span>
                <span class="countdown-label">ساعات</span>
            </div>
            <div class="countdown-item">
                <span class="countdown-number" id="minutes">00</span>
                <span class="countdown-label">دقائق</span>
            </div>
            <div class="countdown-item">
                <span class="countdown-number" id="seconds">00</span>
                <span class="countdown-label">ثواني</span>
            </div>
        </div>

        <button class="gift-button" id="giftButton" onclick="openGifts()">
            🎁 هيا نتفقد الهدايا 🎁
        </button>
    </div>

    <div class="hearts" id="hearts"></div>
    <div class="rockets-container" id="rocketsContainer"></div>

    <!-- الصفحة الثانية -->
    <div class="second-page" id="secondPage">
        <div class="stars"></div>
        <button class="back-button" onclick="goBack()">← العودة</button>
        <button class="audio-control" id="audioControl" onclick="toggleAudio()">🔊</button>
        
        <h1 class="page-title">🎉 عيد ميلاد سعيد يا دعاء 🎉</h1>
        
        <div class="love-message">
            <h2>💖 رسالة حب 💖</h2>
            <p>
                <span class="highlight">صباح لخير عينيا</span> يا<span class="highlight">اجمل مرآه في الكون</span> 
                و<span class="highlight">قلبي وكبدتي</span> <span class="highlight">نحبك بزاف</span> 
                و<span class="highlight">نموت عليك</span> ياعشقي نتي <span class="highlight">اجمل حاجة صرات في حياتي</span> 
                و<span class="highlight">منقدرش نفهمك شعال نحبك</span> ملي <span class="highlight">دخلتي حياتي</span> 
                خليتيي واحد <span class="highlight">مليح بزاف</span> واسعد واحد في دنية ياقلبي 
                <span class="highlight">نشالله يعجبك سيت</span> راح كاين ضرف افتحيه وقراي وش فيه 
                وراه كاين غنية تقدري تحبسيها ولا تخليها وكاين لورد ليك 
                و<span class="highlight">منقلكش وش هيا مفاجاء كبرة</span> حتي توصليلها قاع تحت 
                <span class="highlight">عينيا نحبك</span>
            </p>
        </div>
        
        <div class="gifts-container">
            <div class="gift-card">
                <span class="gift-icon">💝</span>
                <h3 class="gift-title">هدية الحب</h3>
                <p class="gift-description">
                    <span class="highlight">ياعمري علي قلبي</span> راهي 
                    <span class="highlight">تضحك وفرحانة</span> تدوملي دي ضحكت وفرحة 
                    <span class="highlight">شعال نحبهم ونموت عليهم</span> يا<span class="highlight">اجمل حاجة في دا الكون</span> 
                    <span class="highlight">نحبك بزاف</span> ياعيني حاجة <span class="highlight">شابة</span> مين ندير 
                    <span class="highlight">كلش علي جالك ونشوفك فرحانة</span> والله نفرح بزاف قلبي 
                    <span class="highlight">نحبك ونموت عليك</span> ياسيدة نسا ليوم يومك 
                    <span class="highlight">فرحي مليح</span> قلبي نتي <span class="highlight">اجمل هدية لوو فيووو</span>
                </p>
            </div>
            
            <!-- المربع الجديد بدلاً من الظرف -->
            <div class="gift-card">
                <span class="gift-icon">✉️</span>
                <h3 class="gift-title">رسالة خاصة</h3>
                <div class="simple-message">
                    <h3>عيد ميلاد سعيد دعاء</h3>
                    <p>أتمنى لك يوم ميلاد رائع مليء بالحب والفرح!</p>
                    <button class="open-animation-btn" onclick="openAnimationPage()">اضغط هنا</button>
                </div>
            </div>
            
            <!-- بدلاً من ألبوم الحب، تم استبداله بالرسوم المتحركة -->
            <div class="gift-card" id="animationGift">
                <span class="gift-icon">💌</span>
                <h3 class="gift-title">رسالة حب خاصة</h3>
                <p class="gift-description">اضغط لرؤية رسالة حب خاصة لك</p>
            </div>
            
            <div class="gift-card">
                <div class="chick-container">
                    <div class="chick-body">
                        <div class="chick-head">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="beak"></div>
                        </div>
                        <div class="wing left"></div>
                        <div class="wing right"></div>
                        <div class="right-hand"></div>
                        <div class="foot left"></div>
                        <div class="foot right"></div>
                        
                        <div class="microphone">
                            <div class="mic-handle"></div>
                            <div class="mic-head">
                                <div class="mic-grid"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="music-note note1">♪</div>
                    <div class="music-note note2">♫</div>
                    <div class="music-note note3">♪</div>
                </div>
                <div class="volume-control">
                    <button class="volume-btn" onclick="decreaseVolume()">🔉</button>
                    <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="1" oninput="changeVolume()">
                    <button class="volume-btn" onclick="increaseVolume()">🔊</button>
                </div>
                <button class="chick-control" onclick="toggleSpecialSong()">
                    <span id="chickBtnText">إيقاف الأغنية</span>
                </button>
            </div>
            
            <div class="gift-card">
                <span class="gift-icon">📜</span>
                <h3 class="gift-title">قصيدة حب</h3>
                <p class="gift-description">قصيدة من القلب لك</p>
                <div class="poem-container">
                    <div class="poem-scroll" id="poemScroll">
                        <div class="poem-line" style="animation-delay: 0.5s;">في يوم ميلادك يا نور عيني</div>
                        <div class="poem-line" style="animation-delay: 1s;">أهديك حبي وقلبي وكل مشاعري</div>
                        <div class="poem-line" style="animation-delay: 1.5s;">أنتِ الدنيا وما فيها</div>
                        <div class="poem-line" style="animation-delay: 2s;">وبحري وعمري وكل تفاصيلي</div>
                        <div class="poem-line" style="animation-delay: 2.5s;">كل سنة وأنتِ طيبة</div>
                        <div class="poem-line" style="animation-delay: 3s;">وكل عام وأنتِ أغلى حبيبة</div>
                        <div class="poem-line" style="animation-delay: 3.5s;">❤️ أحبك يا دعاء ❤️</div>
                    </div>
                </div>
            </div>
            
            <div class="gift-card" onclick="showCake()">
                <span class="gift-icon">🎊</span>
                <h3 class="gift-title">المفاجأة الكبرى</h3>
                <p class="gift-description">اضغط هنا لرؤية الهدية</p>
            </div>
        </div>
    </div>
    <!-- صفحة الكعكة -->
    <div class="cake-container" id="cakeContainer">
        <button class="cake-back-button" onclick="hideCake()">← العودة</button>
        <svg id="cake" version="1.1" x="0px" y="0px" width="200px" height="500px" viewBox="0 0 200 500" enable-background="new 0 0 200 500" xml:space="preserve">
            <path fill="#a88679" d="M173.667-13.94c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
            c44.697,0,96.586,0,147.334,0C177.667-29.942,177.668-13.94,173.667-13.94z">
                <animate id="bizcocho_3" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1" begin="indefinite" dur="0.3s" fill="freeze" values="
                                  M173.667-13.94c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
            c44.697,0,96.586,0,147.334,0C177.667-29.942,177.668-13.94,173.667-13.94z
                                  ;
                                  M173.667,411.567c-47.995,12.408-102.955,12.561-147.334,0
            c-3.848-1.089-0.189-16.089,3.661-15.002c44.836,12.66,90.519,12.753,139.427,0.07
            C173.293,395.631,177.541,410.566,173.667,411.567z
                                  ;
                                  M173.667,427.569c-49.795,0-101.101,0-147.334,0c-3.999,0-4-16.002,0-16.002
            c46.385,0,97.539,0,147.334,0C177.668,411.567,177.667,427.569,173.667,427.569z
                                  " />
            </path>
            <path fill="#8b6a60" d="M100-178.521c1.858,0,3.364,1.506,3.364,3.363c0,0,0,33.17,0,44.227
            c0,19.144,0,57.431,0,76.574c0,10.152,0,40.607,0,40.607c0,1.858-1.506,3.364-3.364,3.364l0,0c-1.858,0-3.364-1.506-3.364-3.364c0,0,0-30.455,0-40.607c0-19.144,0-57.432,0-76.575c0-11.057,0-44.226,0-44.226C96.636-177.015,98.142-178.521,100-178.521
            L100-178.521z">
                <animate id="relleno_2" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 0.58 1" begin="indefinite" dur="0.5s" fill="freeze" values="
                                  M100-178.521c1.858,0,3.364,1.506,3.364,3.363c0,0,0,33.17,0,44.227
            c0,19.144,0,57.431,0,76.574c0,10.152,0,40.607,0,40.607c0,1.858-1.506,3.364-3.364,3.364l0,0c-1.858,0-3.364-1.506-3.364-3.364c0,0,0-30.455,0-40.607c0-19.144,0-57.432,0-76.575c0-11.057,0-44.226,0-44.226C96.636-177.015,98.142-178.521,100-178.521
            L100-178.521z
                                  ;
                                  M100,267.257c1.858,0,3.364,1.506,3.364,3.363c0,0,0,33.17,0,44.227
            c0,19.143,0,57.43,0,76.574c0,10.151,0,40.606,0,40.606c0,1.858-1.506,3.364-3.364,3.364l0,0c-1.858,0-3.364-1.506-3.364-3.364
            c0,0,0-30.455,0-40.606c0-19.145,0-57.432,0-76.576c0-11.057,0-44.225,0-44.225C96.636,268.763,98.142,267.257,100,267.257
            L100,267.257z
                                  ;
                                  M93.928,405.433c-0.655,6.444-0.102,9.067,2.957,11.798c0,0,8.083,5.571,16.828,3.503
            c18.629-4.406,43.813,6.194,50.792,7.791c14.75,3.375,9.162,6.867,9.162,6.867c-2.412,2.258-58.328,0-73.667,0l0,0
            c-1.858,0-69.995,2.133-73.667,0c0,0-3.337-2.439,6.172-5.992c11.375-4.25,52.875,8.822,47.139-9.442
            c-6.333-20.167,5.226-21.514,5.226-21.514c3.435-0.915,12.78-6.663,10.923-0.546L93.928,405.433z
                                  ;
                                  M102.242,427.569c5.348,0,14.079,0,17.462,0c0,0,17.026,0,27.504,0
            c19.143,0,20.39-3.797,26.459,0c3,1.877,0,7.823,0,7.823c-2.412,2.258-58.328,0-73.667,0l0,0
            c-1.858,0-67.187,0-73.667,0c0,0-4.125-4.983,0-7.823c5.201-3.58,16.085,0,23.725,0c8.841,0,20.762,0,20.762,0
            c3.686,0,8.597,0,19.511,0H102.242z
                                  " />
            </path>
            <path fill="#a88679" d="M173.667-15.929c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002
            c43.566,0,97.96,0,147.334,0C177.667-31.931,177.666-15.929,173.667-15.929z">
                <animate id="bizcocho_2" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0.25 0 0.58 1" begin="indefinite" dur="0.5s" fill="freeze" values="
                                  M173.667-15.929c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002
            c43.566,0,97.96,0,147.334,0C177.667-31.931,177.666-15.929,173.667-15.929z
                                  ;
                                  M173.434,445.393c-47.269,8.001-105.245,8.001-147.334,0c-3.929-0.747-0.692-16.543,3.243-15.824
            c43.828,8.001,92.165,8.001,140.739,0C174.029,428.918,177.377,444.726,173.434,445.393z
                                  ;
                                  M173.667,449.514c-47.576-5.454-102.799-5.744-147.333,0c-3.966,0.512-3.938-15.297,0-16.002
            c43.683-7.823,97.646-8.026,147.333,0C177.616,434.15,177.642,449.969,173.667,449.514z
                                  ;
                                  M173.667,451.394c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
            c44.697,0,96.586,0,147.334,0C177.667,435.392,177.668,451.394,173.667,451.394z
                                  " />
            </path>
            <path fill="#8b6a60" d="M101.368-73.685c0,12.164,0,15.18,0,28.519c0,22.702,0-13.661,0,8.304c0,14.48,0,18.233,0,30.512
            c0,1.753-2.958,1.847-2.958,0c0-12.68,0-16.277,0-30.401c0-21.983,0,11.66,0-8.305c0-13.027,0-15.992,0-28.628
            C98.411-75.883,101.368-75.592,101.368-73.685z">
                <animate id="relleno_1" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 0.6 1" begin="indefinite" dur="0.5s" fill="freeze" values="
                                  M101.368-73.685c0,12.164,0,15.18,0,28.519c0,22.702,0-13.661,0,8.304c0,14.48,0,18.233,0,30.512
            c0,1.753-2.958,1.847-2.958,0c0-12.68,0-16.277,0-30.401c0-21.983,0,11.66,0-8.305c0-13.027,0-15.992,0-28.628
            C98.411-75.883,101.368-75.592,101.368-73.685z
                                  ;
                                  M101.368,350.885c0,12.164,0,65.18,0,78.518c0,22.703,0-33.66,0-11.695c0,14.48,0,28.232,0,40.512
            c0,1.753-2.958,1.847-2.958,0c0-12.68,0-26.277,0-40.402c0-21.982,0,31.66,0,11.695c0-13.027,0-65.992,0-78.627
            C98.411,348.686,101.368,348.977,101.368,350.885z
                                  ;
                                  M128.38,447.567c37.626,6.312,39.303,13.658,26.833,12.833c-22.653-1.499-13.636-0.831-23.302-0.831
            c-14.48,0-17.884,0-30.163,0c-2.087,0-2.068,0-3.915,0c-13.333,0-8.963,0-23.088,0c-11.668,0-14.062,5.995-27.532,1.164
            c-12.629-4.529,38.667-3.167,46.833-17.333C100.077,432.94,105.546,443.736,128.38,447.567z
                                  ;
                                  M173.667,451.394c2.875,0,2.997,9.257,0,9.131c-22.662-0.956-32.09-0.956-41.756-0.956
            c-14.48,0-17.884,0-30.163,0c-2.087,0-2.068,0-3.915,0c-13.333,0-8.963,0-23.088,0c-11.668,0-34.99-0.294-48.412,1.831
            c-4.109,0.65-3.01-10.006,0-10.006C37.129,451.394,149.379,451.394,173.667,451.394z
                                  " />
            </path>
            <path fill="#a88679" d="M173.667,21.571c-33.174,0-111.467,0-147.334,0c-4,0-4-16.002,0-16.002c39.836,0,105.982,0,147.334,0
            C177.668,5.569,177.667,21.571,173.667,21.571z">
                <animate id="bizcocho_1" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 1 1; 0.25 0 1 1; 0 0 1 1; 0.25 0 0.6 1" begin="indefinite" dur="0.8s" fill="freeze" values="
                                  M173.667,21.571c-33.174,0-111.467,0-147.334,0c-4,0-4-16.002,0-16.002c39.836,0,105.982,0,147.334,0
            C177.668,5.569,177.667,21.571,173.667,21.571z
                                  ;
                                  M173.667,459.569c-33.197,16.002-110.782,16.002-147.334,0c-3.664-1.604,1.614-15.617,5.337-14.153
            c40.702,16.002,94.289,16.104,136.505,0.103C171.917,444.1,177.271,457.832,173.667,459.569z
                                  ;
                                  M171.817,475.571c-39.361-3.001-105.438-2.571-143.556,0c-3.991,0.27-7.377-14.736-3.387-15.014
            c41.553-2.888,104.421-3.121,150.51-0.233C179.378,460.574,175.806,475.875,171.817,475.571z
                                  ;
                                  M171.817,459.564c-38.8-12.188-104.504-13.762-143.556,0c-3.772,1.329-7.961-12.604-4.178-13.905
            c40.864-14.064,105.114-15.52,151.918-0.973C179.822,445.874,175.634,460.762,171.817,459.564z
                                  ;
                                  M173.667,475.571c-46.376-5.005-105.924-4.003-147.334,0c-3.981,0.385-3.479-15.421,0.479-16.002
            c43.087-6.327,97.705-7.083,146.855,0.438C177.621,460.613,177.644,476,173.667,475.571z
                                  ;
                                  M173.667,474.117c-46.376,1.866-105.638,2.01-147.334,0c-3.995-0.192-3.52-16.144,0.479-16.002
            c43.794,1.55,96.341,1.541,145.723,0C176.532,457.99,177.663,473.956,173.667,474.117z
                                  ;
                                  M173.667,475.571c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002c43.566,0,97.96,0,147.334,0
            C177.667,459.569,177.666,475.571,173.667,475.571z
                                  " />
            </path>
            <path fill="#fefae9" d="M104.812,113.216c0,3.119-2.164,5.67-4.812,5.67c-2.646,0-4.812-2.551-4.812-5.67c0-5.594,0-16.782,0-22.375
          c0-5.143,0-15.427,0-20.568c0-7.333,0-21.998,0-29.33c0-5.523,0-16.569,0-22.092c0-3.295,0-9.885,0-13.181
          C95.188,2.551,97.353,0,100,0c2.648,0,4.812,2.551,4.812,5.669c0,3.248,0,9.743,0,12.991c0,5.428,0,16.284,0,21.711
          c0,7.618,0,22.854,0,30.472c0,4.952,0,14.854,0,19.807C104.812,96.292,104.812,107.576,104.812,113.216z">
                <animate id="crema" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 1 1; 0.25 0 1 1; 0 0 1 1; 0 0 0.58 1" begin="indefinite" dur="2s" fill="freeze" values="
                                  M104.812,113.216c0,3.119-2.164,5.67-4.812,5.67c-2.646,0-4.812-2.551-4.812-5.67c0-5.594,0-16.782,0-22.375
          c0-5.143,0-15.427,0-20.568c0-7.333,0-21.998,0-29.33c0-5.523,0-16.569,0-22.092c0-3.295,0-9.885,0-13.181
          C95.188,2.551,97.353,0,100,0c2.648,0,4.812,2.551,4.812,5.669c0,3.248,0,9.743,0,12.991c0,5.428,0,16.284,0,21.711
          c0,7.618,0,22.854,0,30.472c0,4.952,0,14.854,0,19.807C104.812,96.292,104.812,107.576,104.812,113.216z
                                  ;
                                  M104.812,405.897c0,3.119-2.164,5.67-4.812,5.67c-2.646,0-4.812-2.551-4.812-5.67c0-5.594,0-16.782,0-22.376
          c0-5.143,0-15.426,0-20.568c0-7.332,0-21.997,0-29.33c0-5.522,0-16.568,0-22.092c0-3.295,0-9.885,0-13.181
          c0-3.118,2.165-5.669,4.812-5.669c2.648,0,4.812,2.551,4.812,5.669c0,3.247,0,9.743,0,12.991c0,5.428,0,16.283,0,21.711
          c0,7.618,0,22.854,0,30.473c0,4.951,0,14.854,0,19.807C104.812,388.972,104.812,400.256,104.812,405.897z
                                  ;
                                  M111.873,411.567c-3.119,0-9.226,0-11.874,0c-2.646,0-7.748,0-10.867,0c-7.086,0-12.698,0-18.292,0
          c-6.592,0-12.871,7.371-19.166,3.008c-10.043-6.961-7.776-10.169,2.991-17.745c12.61-8.873,27.713,1.994,25.919-7.531
          c-2.589-13.742,11.008-14.513,11.365-17.789c0.441-4.051,4.235-11.107,8.051-8.175c3.113,2.393,1.007,8.008,0,13.159
          c-1.871,9.569,8.058,2.113,9.494,14.155c2.592,21.732,21.184-0.675,29.309,7.976c5.216,5.553,18.413,5.552,15.426,12.942
          c-3.131,7.745-15.825-4.369-23.8,2.903C126.261,418.271,118.301,411.567,111.873,411.567z
                                  ;
                                  M111.873,411.567c-3.119,0-9.226,0-11.874,0c-2.646,0-9.734,4.069-12.853,4.069
          c-7.086,0-10.712-4.069-16.306-4.069c-6.592,0-12.12,6.013-19.166,3.008c-7.053-3.008-7.458,2.026-18.659,1.165
          c-6.832-0.525-7.522-3.034-7.533-6.265c-0.037-10.336,22.073-2.452,36.613-2.628c10.234-0.124,19.856-1.439,37.905-2.102
          c16.642-0.61,32.699,1.552,46.009,1.927c12.438,0.351,29.663-8.99,31.532,3.315c0.773,5.093-5.605,3.342-11.211,9.579
          c-5.093,5.667-7.59-4.605-12.965-3.832c-8.269,1.189-14.962-8.537-22.937-1.265C126.261,418.271,118.301,411.567,111.873,411.567z
                                  ;
                                  M110.946,413.652c-2.904-1.137-8.405-2.748-12.446-0.97c-6.099,2.685-7.273,10.358-13.253,8.242
          c-7.843-2.775-8.953-5.008-14.546-5.01c-24.653-0.011-4.849,26.507-18.264,26.507c-12.377,0,5.791-33.537-19.422-26.682
          c-7.703,2.095-9.806-0.942-9.817-4.173c-0.037-10.336,24.357-4.544,38.897-4.72c10.234-0.124,19.856-1.439,37.905-2.102
          c16.642-0.61,32.699,1.552,46.009,1.927c12.438,0.351,28.973-8.865,31.532,3.315c1.449,6.896,0.318,15.624-3.874,15.624
          c-7.619,0-1.788-15.192-19.243-7.111c-7.581,3.51-15.963-9.738-26.669,1.066C120.644,426.744,118.381,416.561,110.946,413.652z
                                  ;
                                  M111.547,413.9c-2.969-0.956-8.775-0.949-13.167-0.5c-14.667,1.5-8.325,16.508-14.667,16.666
          c-6.667,0.166-0.167-13.5-13.013-14.151c-30.471-1.545-5.572,46.651-18.987,46.651c-12.377,0,10.333-50.166-18.667-44.5
          c-7.835,1.531-9.537-1.417-9.548-4.647c-0.037-10.336,23.675-5.177,38.215-5.353c10.234-0.124,20.618-1.671,38.667-2.333
          c16.642-0.61,32.023,1.458,45.333,1.833c12.438,0.351,33.819-8.431,33.199,4.001c-0.532,10.666,0.414,26.166-5.245,25.833
          c-7.606-0.447-2.954-31.5-19.243-18.899c-7.985,6.177-17.658-5.969-27.377,5.732C118.88,434.066,121.38,417.067,111.547,413.9z
                                  ;
                                  M111.547,415.233c-6.667-0.834-9.667,4.667-13.833,3.333c-19.649-6.291-8.158,22.176-14.5,22.334
          c-6.667,0.166,2.833-18-13.333-22.167c-29.544-7.615-9.667,43.833-20.167,43.833c-10.333,0,8.004-55.006-16.833-39
          c-7.5,4.833-9.508-3.78-9.299-7.004c0.799-12.329,23.592-7.153,38.132-7.329c10.234-0.124,20.238-1.505,38.287-2.167
          c16.642-0.61,32.903,1.125,46.213,1.5c12.438,0.351,35.058-5.579,31.863,6.451c-5.532,20.833,1.25,28.216-4.409,27.883
          c-7.606-0.447-6.058-37.895-20.62-23.333c-10.167,10.166-15.972-0.747-25,12C119.547,443.568,121.798,416.515,111.547,415.233z
                                  " />
            </path>
            <rect x="10" y="475.571" fill="#fefae9" width="180" height="4" />
        </svg>
        <div class="cake-text">
            <h1>عيد ميلاد سعيد!</h1>
            <p class="cake-name">دعاء</p>
        </div>
    </div>

    <!-- نافذة التكبير -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <!-- زر التحكم في الصوت للصفحة الأولى -->
    <button class="audio-control" id="firstPageAudio" onclick="toggleWaitingMusic()">🔊</button>

    <!-- نافذة الرسوم المتحركة -->
    <div id="animationModal" class="modal">
        <span class="close" onclick="closeAnimationModal()">&times;</span>
        <canvas id="animationCanvas"></canvas>
    </div>

    <script>
        // إنشاء النجوم
        function createStars() {
            const starsContainer = document.querySelectorAll('.stars');
            starsContainer.forEach(container => {
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.width = Math.random() * 3 + 1 + 'px';
                    star.style.height = star.style.width;
                    star.style.animationDelay = Math.random() * 2 + 's';
                    container.appendChild(star);
                }
            });
        }

        // إنشاء الإيموجي المتساقطة
        const emojis = ['❤️', '🎂', '🎉', '🎈', '🎁', '🌟', '💖', '🎊', '🥳', '🌹', '💝', '🎀', '✨', '🦋', '🌸'];
        
        function createFallingEmoji() {
            const emoji = document.createElement('div');
            emoji.className = 'emoji';
            emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.left = Math.random() * 100 + '%';
            emoji.style.animationDuration = (Math.random() * 3 + 2) + 's';
            emoji.style.animationDelay = Math.random() * 2 + 's';
            
            document.querySelector('.falling-emojis').appendChild(emoji);
            
            setTimeout(() => {
                emoji.remove();
            }, 5000);
        }

        // تشغيل الموسيقى
        let waitingMusicPlaying = false;
        let perfectMusicPlaying = false;
        let specialSongPlaying = true; // تبدأ الأغنية الخاصة مشغلة تلقائياً

        function toggleWaitingMusic() {
            const audio = document.getElementById('waitingMusic');
            if (waitingMusicPlaying) {
                audio.pause();
                document.getElementById('firstPageAudio').textContent = '🔊';
              waitingMusicPlaying = false;
            } else {
                audio.play().catch(e => console.log('لا يمكن تشغيل الموسيقى'));
                document.getElementById('firstPageAudio').textContent = '🔇';
                waitingMusicPlaying = true;
            }
        }

        function toggleAudio() {
            const audio = document.getElementById('perfectMusic');
            if (perfectMusicPlaying) {
                audio.pause();
                document.getElementById('audioControl').textContent = '🔊';
                perfectMusicPlaying = false;
            } else {
                audio.play().catch(e => console.log('لا يمكن تشغيل الموسيقى'));
                document.getElementById('audioControl').textContent = '🔇';
                perfectMusicPlaying = true;
            }
        }

        function toggleSpecialSong() {
            const audio = document.getElementById('specialSong');
            const btnText = document.getElementById('chickBtnText');
            
            if (specialSongPlaying) {
                audio.pause();
                btnText.textContent = 'تشغيل الأغنية';
                specialSongPlaying = false;
            } else {
                audio.play().catch(e => console.log('لا يمكن تشغيل الأغنية الخاصة'));
                btnText.textContent = 'إيقاف الأغنية';
                specialSongPlaying = true;
            }
        }

        // التحكم في مستوى الصوت
        function changeVolume() {
            const audio = document.getElementById('specialSong');
            const slider = document.getElementById('volumeSlider');
            audio.volume = slider.value;
        }

        function increaseVolume() {
            const slider = document.getElementById('volumeSlider');
            if (parseFloat(slider.value) < 1) {
                slider.value = (parseFloat(slider.value) + 0.1).toFixed(1);
                changeVolume();
            }
        }

        function decreaseVolume() {
            const slider = document.getElementById('volumeSlider');
            if (parseFloat(slider.value) > 0) {
                slider.value = (parseFloat(slider.value) - 0.1).toFixed(1);
                changeVolume();
            }
        }

        // إطلاق الصواريخ
        function launchRocket() {
            const rocketsContainer = document.getElementById('rocketsContainer');
            const rocket = document.createElement('div');
            rocket.className = 'rocket';
            rocket.textContent = '🚀';
            rocket.style.left = Math.random() * 100 + '%';
            rocket.style.bottom = '0';
            rocketsContainer.appendChild(rocket);

            setTimeout(() => {
                createExplosion(rocket);
                rocket.remove();
            }, 3000);
        }

        // إنشاء انفجار
        function createExplosion(rocket) {
            const rect = rocket.getBoundingClientRect();
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.textContent = '💥';
            explosion.style.left = rect.left + 'px';
            explosion.style.top = rect.top + 'px';
            document.getElementById('rocketsContainer').appendChild(explosion);

            setTimeout(() => {
                explosion.remove();
            }, 1000);
        }

        // إظهار الصواريخ عند انتهاء العد التنازلي
        function showRockets() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    launchRocket();
                }, i * 500);
            }
        }

        // العد التنازلي حتى 11 أغسطس بتوقيت الجزائر
        function updateCountdown() {
            // تحديد تاريخ 11 أغسطس 2025 بتوقيت الجزائر (UTC+1)
            const targetDate = new Date('2025-08-11T00:00:00+01:00');
            const now = new Date();
            
            // حساب الفرق بين التواريخ
            const diff = targetDate - now;
            
            if (diff <= 0) {
                document.getElementById('countdown').style.display = 'none';
                document.getElementById('giftButton').style.display = 'inline-block';
                document.querySelector('.title').textContent = '🎉 عيد ميلاد سعيد دعاء! 🎉';
                showRockets();
                return;
            }
            
            // حساب الأيام، الساعات، الدقائق والثواني
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // تحديث العناصر في الصفحة
            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        // فتح صفحة الهدايا
        function openGifts() {
            const waitingAudio = document.getElementById('waitingMusic');
            waitingAudio.pause();
            waitingMusicPlaying = false;
            
            const perfectAudio = document.getElementById('perfectMusic');
            perfectAudio.play().catch(e => console.log('لا يمكن تشغيل الموسيقى'));
            perfectMusicPlaying = true;
            
            // تشغيل الأغنية الخاصة تلقائياً عند فتح الصفحة الثانية
            const specialAudio = document.getElementById('specialSong');
            specialAudio.play().catch(e => console.log('لا يمكن تشغيل الأغنية الخاصة'));
            specialSongPlaying = true;
            
            document.getElementById('firstPage').style.display = 'none';
            document.getElementById('firstPageAudio').style.display = 'none';
            document.getElementById('secondPage').classList.add('active');
            
            // إعادة تشغيل الأغنية الخاصة عند انتهائها
            specialAudio.onended = function() {
                specialAudio.currentTime = 0;
                specialAudio.play();
            };
        }

        // العودة للصفحة الأولى
        function goBack() {
            const perfectAudio = document.getElementById('perfectMusic');
            perfectAudio.pause();
            perfectMusicPlaying = false;
            
            const specialAudio = document.getElementById('specialSong');
            specialAudio.pause();
            specialSongPlaying = false;
            document.getElementById('chickBtnText').textContent = 'تشغيل الأغنية';
            
            document.getElementById('secondPage').classList.remove('active');
            document.getElementById('firstPage').style.display = 'flex';
            document.getElementById('firstPageAudio').style.display = 'block';
        }

        // فتح نافذة التكبير للصورة
        function openModal(src) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            modal.style.display = "block";
            modalImg.src = src;
        }

        // إغلاق نافذة التكبير
        function closeModal() {
            document.getElementById('imageModal').style.display = "none";
        }

        // فتح نافذة الرسوم المتحركة
        function openAnimationPage() {
            const modal = document.getElementById('animationModal');
            modal.style.display = "block";
            
            // بدء الرسوم المتحركة
            startAnimation();
        }

        // إغلاق نافذة الرسوم المتحركة
        function closeAnimationModal() {
            document.getElementById('animationModal').style.display = "none";
        }

        // بدء الرسوم المتحركة
        function startAnimation() {
            const canvas = document.getElementById('animationCanvas');
            const ctx = canvas.getContext('2d');
            
            // تعيين حجم Canvas ليتناسب مع النافذة
            canvas.width = window.innerWidth * 0.8;
            canvas.height = window.innerHeight * 0.8;
            
            const w = canvas.width;
            const h = canvas.height;
            const hw = w / 2;
            const hh = h / 2;
            
            const opts = {
                strings: ["HAPPY", "BIRTHDAY!", "to You"],
                charSize: 30,
                charSpacing: 35,
                lineHeight: 40,
                cx: w / 2,
                cy: h / 2,
                fireworkPrevPoints: 10,
                fireworkBaseLineWidth: 5,
                fireworkAddedLineWidth: 8,
                fireworkSpawnTime: 200,
                fireworkBaseReachTime: 30,
                fireworkAddedReachTime: 30,
                fireworkCircleBaseSize: 20,
                fireworkCircleAddedSize: 10,
                fireworkCircleBaseTime: 30,
                fireworkCircleAddedTime: 30,
                fireworkCircleFadeBaseTime: 10,
                fireworkCircleFadeAddedTime: 5,
                fireworkBaseShards: 5,
                fireworkAddedShards: 5,
                fireworkShardPrevPoints: 3,
                fireworkShardBaseVel: 4,
                fireworkShardAddedVel: 2,
                fireworkShardBaseSize: 3,
                fireworkShardAddedSize: 3,
                gravity: 0.1,
                upFlow: -0.1,
                letterContemplatingWaitTime: 360,
                balloonSpawnTime: 20,
                balloonBaseInflateTime: 10,
                balloonAddedInflateTime: 10,
                balloonBaseSize: 20,
                balloonAddedSize: 20,
                balloonBaseVel: 0.4,
                balloonAddedVel: 0.4,
                balloonBaseRadian: -(Math.PI / 2 - 0.5),
                balloonAddedRadian: -1,
            };
            
            const calc = {
                totalWidth: opts.charSpacing * Math.max(opts.strings[0].length, opts.strings[1].length)
            };
            
            const Tau = Math.PI * 2;
            const TauQuarter = Tau / 4;
            const letters = [];
            
            ctx.font = opts.charSize + "px Verdana";
            
            function Letter(char, x, y) {
                this.char = char;
                this.x = x;
                this.y = y;
                this.dx = -ctx.measureText(char).width / 2;
                this.dy = +opts.charSize / 2;
                this.fireworkDy = this.y - hh;
                
                const hue = (x / calc.totalWidth) * 360;
                this.color = "hsl(hue,80%,50%)".replace("hue", hue);
                this.lightAlphaColor = "hsla(hue,80%,light%,alp)".replace("hue", hue);
                this.lightColor = "hsl(hue,80%,light%)".replace("hue", hue);
                this.alphaColor = "hsla(hue,80%,50%,alp)".replace("hue", hue);
                
                this.reset();
            }
            
            Letter.prototype.reset = function() {
                this.phase = "firework";
                this.tick = 0;
                this.spawned = false;
                this.spawningTime = (opts.fireworkSpawnTime * Math.random()) | 0;
                this.reachTime = (opts.fireworkBaseReachTime + opts.fireworkAddedReachTime * Math.random()) | 0;
                this.lineWidth = opts.fireworkBaseLineWidth + opts.fireworkAddedLineWidth * Math.random();
                this.prevPoints = [[0, hh, 0]];
            };
            
            Letter.prototype.step = function() {
                if (this.phase === "firework") {
                    if (!this.spawned) {
                        ++this.tick;
                        if (this.tick >= this.spawningTime) {
                            this.tick = 0;
                            this.spawned = true;
                        }
                    } else {
                        ++this.tick;
                        
                        const linearProportion = this.tick / this.reachTime;
                        const armonicProportion = Math.sin(linearProportion * TauQuarter);
                        const x = linearProportion * this.x;
                        const y = hh + armonicProportion * this.fireworkDy;
                        
                        if (this.prevPoints.length > opts.fireworkPrevPoints) this.prevPoints.shift();
                        
                        this.prevPoints.push([x, y, linearProportion * this.lineWidth]);
                        
                        const lineWidthProportion = 1 / (this.prevPoints.length - 1);
                        
                        for (let i = 1; i < this.prevPoints.length; ++i) {
                            const point = this.prevPoints[i];
                            const point2 = this.prevPoints[i - 1];
                            
                            ctx.strokeStyle = this.alphaColor.replace("alp", i / this.prevPoints.length);
                            ctx.lineWidth = point[2] * lineWidthProportion * i;
                            ctx.beginPath();
                            ctx.moveTo(point[0], point[1]);
                            ctx.lineTo(point2[0], point2[1]);
                            ctx.stroke();
                        }
                        
                        if (this.tick >= this.reachTime) {
                            this.phase = "contemplate";
                            
                            this.circleFinalSize = opts.fireworkCircleBaseSize + opts.fireworkCircleAddedSize * Math.random();
                            this.circleCompleteTime = (opts.fireworkCircleBaseTime + opts.fireworkCircleAddedTime * Math.random()) | 0;
                            this.circleCreating = true;
                            this.circleFading = false;
                            
                            this.circleFadeTime = (opts.fireworkCircleFadeBaseTime + opts.fireworkCircleFadeAddedTime * Math.random()) | 0;
                            this.tick = 0;
                            this.tick2 = 0;
                            
                            this.shards = [];
                            
                            const shardCount = (opts.fireworkBaseShards + opts.fireworkAddedShards * Math.random()) | 0;
                            const angle = Tau / shardCount;
                            const cos = Math.cos(angle);
                            const sin = Math.sin(angle);
                            let x = 1;
                            let y = 0;
                            
                            for (let i = 0; i < shardCount; ++i) {
                                const x1 = x;
                                x = x * cos - y * sin;
                                y = y * cos + x1 * sin;
                                
                                this.shards.push(new Shard(this.x, this.y, x, y, this.alphaColor));
                            }
                        }
                    }
                } else if (this.phase === "contemplate") {
                    ++this.tick;
                    
                    if (this.circleCreating) {
                        ++this.tick2;
                        const proportion = this.tick2 / this.circleCompleteTime;
                        const armonic = -Math.cos(proportion * Math.PI) / 2 + 0.5;
                        
                        ctx.beginPath();
                        ctx.fillStyle = this.lightAlphaColor.replace("light", 50 + 50 * proportion).replace("alp", proportion);
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, armonic * this.circleFinalSize, 0, Tau);
                        ctx.fill();
                        
                        if (this.tick2 > this.circleCompleteTime) {
                            this.tick2 = 0;
                            this.circleCreating = false;
                            this.circleFading = true;
                        }
                    } else if (this.circleFading) {
                        ctx.fillStyle = this.lightColor.replace("light", 70);
                        ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);
                        
                        ++this.tick2;
                        const proportion = this.tick2 / this.circleFadeTime;
                        const armonic = -Math.cos(proportion * Math.PI) / 2 + 0.5;
                        
                        ctx.beginPath();
                        ctx.fillStyle = this.lightAlphaColor.replace("light", 100).replace("alp", 1 - armonic);
                        ctx.arc(this.x, this.y, this.circleFinalSize, 0, Tau);
                        ctx.fill();
                        
                        if (this.tick2 >= this.circleFadeTime) this.circleFading = false;
                    } else {
                        ctx.fillStyle = this.lightColor.replace("light", 70);
                        ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);
                    }
                    
                    for (let i = 0; i < this.shards.length; ++i) {
                        this.shards[i].step();
                        
                        if (!this.shards[i].alive) {
                            this.shards.splice(i, 1);
                            --i;
                        }
                    }
                    
                    if (this.tick > opts.letterContemplatingWaitTime) {
                        this.phase = "balloon";
                        
                        this.tick = 0;
                        this.spawning = true;
                        this.spawnTime = (opts.balloonSpawnTime * Math.random()) | 0;
                        this.inflating = false;
                        this.inflateTime = (opts.balloonBaseInflateTime + opts.balloonAddedInflateTime * Math.random()) | 0;
                        this.size = (opts.balloonBaseSize + opts.balloonAddedSize * Math.random()) | 0;
                        
                        const rad = opts.balloonBaseRadian + opts.balloonAddedRadian * Math.random();
                        const vel = opts.balloonBaseVel + opts.balloonAddedVel * Math.random();
                        
                        this.vx = Math.cos(rad) * vel;
                        this.vy = Math.sin(rad) * vel;
                    }
                } else if (this.phase === "balloon") {
                    ctx.strokeStyle = this.lightColor.replace("light", 80);
                    
                    if (this.spawning) {
                        ++this.tick;
                        ctx.fillStyle = this.lightColor.replace("light", 70);
                        ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);
                        
                        if (this.tick >= this.spawnTime) {
                            this.tick = 0;
                            this.spawning = false;
                            this.inflating = true;
                        }
                    } else if (this.inflating) {
                        ++this.tick;
                        
                        const proportion = this.tick / this.inflateTime;
                        const x = this.cx = this.x;
                        const y = this.cy = this.y - this.size * proportion;
                        
                        ctx.fillStyle = this.alphaColor.replace("alp", proportion);
                        ctx.beginPath();
                        generateBalloonPath(x, y, this.size * proportion);
                        ctx.fill();
                        
                        ctx.beginPath();
                        ctx.moveTo(x, y);
                        ctx.lineTo(x, this.y);
                        ctx.stroke();
                        
                        ctx.fillStyle = this.lightColor.replace("light", 70);
                        ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);
                        
                        if (this.tick >= this.inflateTime) {
                            this.tick = 0;
                            this.inflating = false;
                        }
                    } else {
                        this.cx += this.vx;
                        this.cy += this.vy += opts.upFlow;
                        
                        ctx.fillStyle = this.color;
                        ctx.beginPath();
                        generateBalloonPath(this.cx, this.cy, this.size);
                        ctx.fill();
                        
                        ctx.beginPath();
                        ctx.moveTo(this.cx, this.cy);
                        ctx.lineTo(this.cx, this.cy + this.size);
                        ctx.stroke();
                        
                        ctx.fillStyle = this.lightColor.replace("light", 70);
                        ctx.fillText(this.char, this.cx + this.dx, this.cy + this.dy + this.size);
                        
                        if (this.cy + this.size < -hh || this.cx < -hw || this.cy > hw) {
                            this.phase = "done";
                        }
                    }
                }
            };
            
            function Shard(x, y, vx, vy, color) {
                const vel = opts.fireworkShardBaseVel + opts.fireworkShardAddedVel * Math.random();
                
                this.vx = vx * vel;
                this.vy = vy * vel;
                
                this.x = x;
                this.y = y;
                
                this.prevPoints = [[x, y]];
                this.color = color;
                
                this.alive = true;
                
                this.size = opts.fireworkShardBaseSize + opts.fireworkShardAddedSize * Math.random();
            }
            
            Shard.prototype.step = function() {
                this.x += this.vx;
                this.y += this.vy += opts.gravity;
                
                if (this.prevPoints.length > opts.fireworkShardPrevPoints) this.prevPoints.shift();
                
                this.prevPoints.push([this.x, this.y]);
                
                const lineWidthProportion = this.size / this.prevPoints.length;
                
                for (let k = 0; k < this.prevPoints.length - 1; ++k) {
                    const point = this.prevPoints[k];
                    const point2 = this.prevPoints[k + 1];
                    
                    ctx.strokeStyle = this.color.replace("alp", k / this.prevPoints.length);
                    ctx.lineWidth = k * lineWidthProportion;
                    ctx.beginPath();
                    ctx.moveTo(point[0], point[1]);
                    ctx.lineTo(point2[0], point2[1]);
                    ctx.stroke();
                }
                
                if (this.prevPoints[0][1] > hh) this.alive = false;
            };
            
            function generateBalloonPath(x, y, size) {
                ctx.moveTo(x, y);
                ctx.bezierCurveTo(
                    x - size / 2, y - size / 2,
                    x - size / 4, y - size,
                    x, y - size
                );
                ctx.bezierCurveTo(
                    x + size / 4, y - size,
                    x + size / 2, y - size / 2,
                    x, y
                );
            }
            
            // إنشاء الحروف
            for (let i = 0; i < opts.strings.length; ++i) {
                for (let j = 0; j < opts.strings[i].length; ++j) {
                    letters.push(
                        new Letter(
                            opts.strings[i][j],
                            j * opts.charSpacing + opts.charSpacing / 2 - (opts.strings[i].length * opts.charSize) / 2,
                            i * opts.lineHeight + opts.lineHeight / 2 - (opts.strings.length * opts.lineHeight) / 2
                        )
                    );
                }
            }
            
            // دورة الرسوم المتحركة
            function anim() {
                ctx.fillStyle = "#111";
                ctx.fillRect(0, 0, w, h);
                
                ctx.translate(hw, hh);
                
                let done = true;
                for (let l = 0; l < letters.length; ++l) {
                    letters[l].step();
                    if (letters[l].phase !== "done") done = false;
                }
                
                ctx.translate(-hw, -hh);
                
                if (done) {
                    for (let l = 0; l < letters.length; ++l) {
                        letters[l].reset();
                    }
                }
                
                requestAnimationFrame(anim);
            }
            
            // بدء الرسوم المتحركة
            anim();
        }

        // عرض الكعكة
        function showCake() {
            const cakeContainer = document.getElementById('cakeContainer');
            cakeContainer.style.display = 'flex';
            
            // إنشاء الشمعة مع انيميشن السقوط
            const candleContainer = document.createElement('div');
            candleContainer.className = 'candle-container';
            
            const candle = document.createElement('div');
            candle.className = 'candle';
            candleContainer.appendChild(candle);
            
            cakeContainer.appendChild(candleContainer);
            
            // بدء انيميشن الكعكة
            const animations = document.querySelectorAll('#cake animate');
            animations.forEach(anim => {
                anim.beginElement();
            });
        }

        // إخفاء الكعكة
        function hideCake() {
            const cakeContainer = document.getElementById('cakeContainer');
            cakeContainer.style.display = 'none';
            
            // إزالة الشمعة عند الخروج
            const candle = document.querySelector('.candle-container');
            if (candle) {
                candle.remove();
            }
        }

        // إغلاق النافذة عند النقر خارج الصورة
        window.onclick = function(event) {
            const modal = document.getElementById('imageModal');
            if (event.target == modal) {
                modal.style.display = "none";
            }
            
            const animationModal = document.getElementById('animationModal');
            if (event.target == animationModal) {
                animationModal.style.display = "none";
            }
        }

        // تشغيل كل شيء عند تحميل الصفحة
        window.onload = function() {
            createStars();
            setInterval(createFallingEmoji, 300);
            setInterval(updateCountdown, 1000);
            updateCountdown();
            
            // تعيين مستوى الصوت الافتراضي للأغنية الخاصة
            document.getElementById('specialSong').volume = 1;
            
            // بدء عرض قصيدة الحب بعد تحميل الصفحة
            const poemLines = document.querySelectorAll('.poem-line');
            poemLines.forEach((line, index) => {
                setTimeout(() => {
                    line.style.animation = 'fadeIn 1s forwards';
                }, index * 1000);
            });
        };
    </script>
</body>
</html>
